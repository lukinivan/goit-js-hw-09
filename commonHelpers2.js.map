{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// const formEl = document.querySelector('.feedback-form');\n// const feedbackId = 'feedback-form-state';\n// const formData = { email: '', message: '' };\n\n// checkLocalStorage();\n\n// formEl.addEventListener('input', e => {\n//   if (e.target.nodeName === 'INPUT') formData.email = e.target.value;\n//   if (e.target.nodeName === 'TEXTAREA') formData.message = e.target.value;\n//   localStorage.setItem(feedbackId, JSON.stringify(formData));\n// });\n\n// formEl.addEventListener('submit', e => {\n//   e.preventDefault();\n//   const form = e.target;\n//   const email = form.elements.email.value;\n//   const message = form.elements.message.value;\n\n//   if (email === '' || message === '')\n//     return alert('All form fields must be filled in');\n\n//   localStorage.removeItem(feedbackId);\n//   formEl.reset();\n// });\n\n// function checkLocalStorage() {\n//   if (localStorage.getItem(feedbackId) === null) return;\n\n//   const savedData = JSON.parse(localStorage.getItem(feedbackId));\n//   formEl.elements.email.value = savedData.email;\n//   formData.email = savedData.email;\n\n//   formEl.elements.message.value = savedData.message;\n//   formData.message = savedData.message;\n// }\n\n// ! Цей код мені запропонував AI зробивши рефакторинг того що я написав, я вирішив його сюди помістити просто за для пам'яті про нього, та і вам показати)\n\nconst formEl = document.querySelector('.feedback-form');\nconst emailInput = formEl.elements.email;\nconst messageTextarea = formEl.elements.message;\nconst feedbackId = 'feedback-form-state';\nconst formData = { email: '', message: '' };\n\ncheckLocalStorage();\n\nfunction debounce(func, wait) {\n  let timeout;\n  return function (...args) {\n    console.log(args);\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func.apply(this, args), wait);\n  };\n}\n\nconst saveToLocalStorage = debounce(() => {\n  localStorage.setItem(feedbackId, JSON.stringify(formData));\n}, 300); // Затримка 300 мілісекунд\n\nformEl.addEventListener('input', e => {\n  if (e.target.type === 'email') formData.email = emailInput.value;\n  if (e.target.type === 'textarea') formData.message = messageTextarea.value;\n  saveToLocalStorage();\n});\n\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n  if (!formEl.checkValidity()) {\n    return alert('All form fields must be filled in');\n  }\n\n  localStorage.removeItem(feedbackId);\n  formEl.reset();\n});\n\nfunction checkLocalStorage() {\n  const savedData = JSON.parse(localStorage.getItem(feedbackId));\n  if (!savedData) return;\n  emailInput.value = formData.email = savedData.email;\n  messageTextarea.value = formData.message = savedData.message;\n}\n"],"names":["formEl","emailInput","messageTextarea","feedbackId","formData","checkLocalStorage","debounce","func","wait","timeout","args","saveToLocalStorage","savedData"],"mappings":"oDAsCA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAaD,EAAO,SAAS,MAC7BE,EAAkBF,EAAO,SAAS,QAClCG,EAAa,sBACbC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEzCC,IAEA,SAASC,EAASC,EAAMC,EAAM,CAC5B,IAAIC,EACJ,OAAO,YAAaC,EAAM,CACxB,QAAQ,IAAIA,CAAI,EAChB,aAAaD,CAAO,EACpBA,EAAU,WAAW,IAAMF,EAAK,MAAM,KAAMG,CAAI,EAAGF,CAAI,CAC3D,CACA,CAEA,MAAMG,EAAqBL,EAAS,IAAM,CACxC,aAAa,QAAQH,EAAY,KAAK,UAAUC,CAAQ,CAAC,CAC3D,EAAG,GAAG,EAENJ,EAAO,iBAAiB,QAAS,GAAK,CAChC,EAAE,OAAO,OAAS,UAASI,EAAS,MAAQH,EAAW,OACvD,EAAE,OAAO,OAAS,aAAYG,EAAS,QAAUF,EAAgB,OACrES,GACF,CAAC,EAEDX,EAAO,iBAAiB,SAAU,GAAK,CAErC,GADA,EAAE,eAAc,EACZ,CAACA,EAAO,gBACV,OAAO,MAAM,mCAAmC,EAGlD,aAAa,WAAWG,CAAU,EAClCH,EAAO,MAAK,CACd,CAAC,EAED,SAASK,GAAoB,CAC3B,MAAMO,EAAY,KAAK,MAAM,aAAa,QAAQT,CAAU,CAAC,EACxDS,IACLX,EAAW,MAAQG,EAAS,MAAQQ,EAAU,MAC9CV,EAAgB,MAAQE,EAAS,QAAUQ,EAAU,QACvD"}